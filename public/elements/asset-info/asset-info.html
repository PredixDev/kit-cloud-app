<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="asset-info-styles.html">

<dom-module id='asset-info'>
  <template>
    <style include="asset-info-styles"></style>
    <div class="asset-info-container">
      <div class="asset-text">
        <div class="heading">[[assetDetails.name]]</div>
        <div class="attributes">
          <template is="dom-repeat" items="[[assetDetails.attributes]]">
          <div class="attribute">
            <div class="key heading">[[item.label]]</div>
            <div class="value">[[item.value]]</div>
          </div>
        </template>
        </div>
      </div>
      <div class="asset-image-container">
        <img class="asset-image" src$="{{assetDetails.assetImageUrl}}"/>
      </div>
    <div>
    <template is="dom-repeat" items="[[connectedDevices]]">
      <div class="gateway-device-container">
        <div class="parent-connector"></div>
        <div class="sibling-connector"></div>
        <div class="device-image-container">
          <img class="device-image" src$="[[item.imageUrl]]"/>
        </div>
        <div class="device-text">
          <div class="heading">[[item.deviceName]]</div>
          <div class="attributes">
            <template is="dom-repeat" items="[[item.attributes]]">
              <div class="attribute">
                <div class="key heading">[[item.label]]</div>
                <div class="value">[[item.value]]</div>
              </div>
            </template>
          </div>
        </div>
      </div>
    </template>
  </template>
  <script>
  Polymer({
    is: 'asset-info',
    properties: {
      textContent: '',
      assetImageUrl: '',
      deviceImageUrl: '',
      assetDetails: {
        type: Object,
        value: {}
      },
      connectedDevices: {
        type: Array,
        value: []
      }
    },
    ready: function(){

    }
  });
  </script>
</dom-module>
